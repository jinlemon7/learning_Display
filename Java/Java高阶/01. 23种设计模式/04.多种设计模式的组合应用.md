# 为什么要组合使用设计模式?
  很多人学设计模式的时候，最开始是一个个单独学的‌。比如：学了策略模式、学了单例模式、又学了观察者模式。  
  但你会发现，实际写业务代码⁢的时候，光靠一个模式，很多时候根本解决不了问题。   
  虽然每个设计模式都有明确的使用场景和‏目的，但在真实项目中，业务逻辑往往是多方面交织的，职责也不是单一维度的。  
  比如，我们需‍要做一个电商系统，搞一个“限时满减 + 会员折扣 + 积分抵扣”的促销逻辑。这能靠一⁡个策略模式就搞定吗？不行，你可能需要下面几种设计模式：  

  - 策略模式，动态切换不同的优惠算法；
  - 责任链模式，叠加多个促销规则；
  - 模板模式，定义订单流程处理的框架；
  - 状态模式，处理订单状态流转；
  - 工厂模式，根据配置动态创建促销组合。

  这时候就要‌多个模式配合起来，⁢一起组合处理，才能‏应对复杂场景。

# 组合使用设计模式的优势
  1. 职责更清晰，系统更容易扩展
     每个设计模式关注的点不‌一样，有的处理创建逻辑，有的处理行为封⁢装。我们把它们组合起来用，可以让每个模块专注一‏件事。
     比如策略模式处理算法变化，工厂方法负‍责对象创建，两者结合后既灵活又解耦，后续要⁡新增功能或者修改行为就比较容易。
  2. 结构更灵活，适应复杂业务
     业务需求经常变，一‌开始可能只需要一个简单策略，后面要支⁢持组合逻辑、配置切换、动态控制，这时‏候就不能只靠一个模式了。
     像策略模式配‍合装饰器模式、责任链模式一起用，就能⁡让结构更有弹性，适应多种场景。
  3. 代码更清晰，便于团队协作
     多个模式合理组合‌，会让系统结构更有规律。我们看代⁢码时一眼就能判断出设计意图，维护‏起来也更轻松。而且团队内部使用统‍一的设计套路，
     有助于沟通协作，大⁡家对整体架构的理解也会更一致。
  4. 符合面向对象设计原则
     组合使用模式‌其实也是在落实面向对象的⁢基本原则，比如开闭原则、‏单一职责、依赖倒置等等。‍它能帮我们构建出更健壮、⁡更容易演进的系统结构。

# 常见设计模式组合类型
  这里我们整理一下‌项目中比较常见的几种设计模式组合⁢方式，这些组合在不少开源框架里也‏经常能见到，实用性比较强。

  1. 工厂模式 + 策略模式：灵活创建可切换的行为逻辑
     这个组合场‌景非常常见，适合那⁢种“有多个实现类，‏需要根据某种条件动‍态选择执行逻辑”的⁡业务需求。

     - 工厂模式负责根据入参选择并创建具体的策略实现；
     - 策略模式负责封装一类可以相互替换的行为逻辑。
    
     比如在一个支付系‌统中，我们可能需要根据不同的支⁢付方式（微信、支付宝、银行卡）‏来调用不同的处理逻辑：
     - 每个支付方式封装成一个策略实现类；
     - 工厂根据传入的支付类型（payType）返回对应的策略实例；
     - 客户端只负责调用策略暴露的统一接口，不需要关心内部实现。

     这个组合最大‌的好处是扩展性好，新增⁢一个支付方式，只需要实‏现一个新的策略类，工厂‍只需增加相应注册逻辑即⁡可，老代码基本无需修改。

  2. 模板方法模式 + 策略模式：固定流程 + 灵活步骤
     这种组合适‌合我们要定义一个“⁢标准化流程”，但流‏程中的某些步骤需要‍根据实际情况做不同处⁡理的时候。

     - 模板方法模式提供一个完整流程的框架，定义了多个步骤；
     - 策略模式则注入到其中某一个可变步骤中，用来支持灵活的处理逻辑。
    
     举个例子，电商系统中下单流程可以用模板方法定义大致步骤：
     - 参数校验
     - 运费计算
     - 优惠处理
     - 库存扣减
     - 订单入库
    
     其中“优惠处‌理”这一步不同商品类型会⁢有不同的策略，比如满减、‏折扣、积分兑换。我们就可‍以把这一步拆出去，使用策⁡略模式实现不同的优惠计算方式

     这种组合结‌构清晰：流程固定但⁢可扩展；具体业务逻‏辑灵活但受控。

# 责任链模式 + 策略模式：流程控制 + 规则灵活组合



















